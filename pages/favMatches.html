<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>VALTracker</title>

  <script>
    window.$ = window.jQuery = require('jquery');
  </script>

  
  <link rel="stylesheet" type="text/css" href="../assets/css/global.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/playerprofile/playerprofile.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/favourite_matches/favourite_matches.css">

  <script src="https://kit.fontawesome.com/0fb7a47199.js" crossorigin="anonymous"></script>
</head>

<body>
  <header id="titlebar">
    <div id="drag-region">
      <div id="window-title">
        <img class="titlebar-img" id="valtracker-logo">
        <span id="WindowName"></span>
      </div>
      <div id="window-controls">

        <div class="button" id="min-button">
          <img class="icon"
            srcset="../iconss/min-w-10.png 1x, ../iconss/min-w-12.png 1.25x, ../iconss/min-w-15.png 1.5x, ../iconss/min-w-15.png 1.75x, ../iconss/min-w-20.png 2x, ../iconss/min-w-20.png 2.25x, ../iconss/min-w-24.png 2.5x, ../iconss/min-w-30.png 3x, ../iconss/min-w-30.png 3.5x"
            draggable="false" />
        </div>
        <div class="button" id="max-button">
          <img class="icon"
            srcset="../iconss/max-w-10.png 1x, ../iconss/max-w-12.png 1.25x, ../iconss/max-w-15.png 1.5x, ../iconss/max-w-15.png 1.75x, ../iconss/max-w-20.png 2x, ../iconss/max-w-20.png 2.25x, ../iconss/max-w-24.png 2.5x, ../iconss/max-w-30.png 3x, ../iconss/max-w-30.png 3.5x"
            draggable="false" />
        </div>
        <div class="button" id="restore-button">
          <img class="icon"
            srcset="../iconss/restore-w-10.png 1x, ../iconss/restore-w-12.png 1.25x, ../iconss/restore-w-15.png 1.5x, ../iconss/restore-w-15.png 1.75x, ../iconss/restore-w-20.png 2x, ../iconss/restore-w-20.png 2.25x, ../iconss/restore-w-24.png 2.5x, ../iconss/restore-w-30.png 3x, ../iconss/restore-w-30.png 3.5x"
            draggable="false" />
        </div>
        <div class="button" id="close-button">
          <img class="icon"
            srcset="../iconss/close-w-10.png 1x, ../iconss/close-w-12.png 1.25x, ../iconss/close-w-15.png 1.5x, ../iconss/close-w-15.png 1.75x, ../iconss/close-w-20.png 2x, ../iconss/close-w-20.png 2.25x, ../iconss/close-w-24.png 2.5x, ../iconss/close-w-30.png 3x, ../iconss/close-w-30.png 3.5x"
            draggable="false" />
        </div>

      </div>
    </div>
  </header>

  <div class="header-relative-div" id="sec" onclick="toggle()">
    <div id="toggle"></div>
  </div>
  <div class="navslide">
    <ul class="navslide-ul-container">
      <li id="home" class="navslide-li"><span class="" id="home-nav">Home</span></li>
      <li id="store" class="navslide-li"><span class="" id="store-nav">Your Store</span></li>
      <li id="favs" class="navslide-li color"><span class="" id="favs-nav">Favourite Matches</span></li>
      <li id="psearch" class="navslide-li"><span class="" id="search-nav">Playersearch</span></li>
      <li id="collects" class="collapsible"><span class="" id="collectables-nav"> Collectables</span></li>
      <div class="content">
        <li class="collectables-sub" id="collects-sub-bundles">Bundles</li>
        <li class="collectables-sub" id="collects-sub-skins">Skins</li>
        <!--<li class="collectables-sub" id="collects-sub-bp">Battlepass</li>-->
        <!--<li class="collectables-sub" id="collects-sub-search">Search</li>-->
      </div>
      <!--<li id="agents" class="navslide-li"><span class="" id="tools-nav">Agents</span></li>
        <li id="m-n-l" class="navslide-li"><span class="" id="tools-nav">Maps & Lineups</span></li>
        <li id="leads" class="navslide-li"><span class="" id="projects-nav">Leaderboards</span></li>
        <li id="lft" class="navslide-li"><span class="" id="contact-nav">LFT</span></li>-->
    </ul>
    <li id="acc-switcher" class="navslide-li" style="list-style-type: none;"><span>Switch Account</span></li>
    <li id="patchnotes" class="navslide-li" style="list-style-type: none;"><span>Patchnotes</span></li>
    <li id="settings" class="navslide-li" style="list-style-type: none;"><span><i class="fas fa-user-cog"></i>
        Settings</span></li>
    <hr
      style="position: absolute; bottom: 2.9rem; left: 1rem; width: 10rem; background: linear-gradient(to right, var(--gradient-left),  var(--gradient-right)); height: 2px; border: none; box-shadow: var(--box-shadow);">
    <li id="socials" class="navslide-li" style="list-style-type: none;">
      <span id="socials-span">
        <i class="fab fa-discord" id="socials-i" style="margin-right: 1rem;"></i>
        <i class="fab fa-twitter" id="socials-i" style="margin-right: 1rem;"></i>
        <i class="fab fa-github" id="socials-i" style="margin-right: 1rem;"></i>
        <i class="fas fa-globe" style="margin-right: 1rem;"></i>
        <i class="fas fa-hand-holding-usd"></i>
      </span>
    </li>
  </div>
  <div class="switch-acc-wrapper">
    <div class="switch-acc-card" id="switch-acc-card">
      <div class="acc-relative-div-largeview" id="closeAccountsWindow">
        <div id="toggle"></div>
      </div>
      <div class="switch-acc-card-header" style="margin-bottom: 1rem;">
        <span style="margin-bottom: 1rem; font-weight: bold; font-size: 1.6em;">Switch Riot Account</span>
      </div>
      <div class="switch-acc-accounts-wrapper" id="switch-acc-accounts-wrapper">
        <hr style="display: none;" id="lastAccountElement">
      </div>
      <div class="switch-acc-buttons">
        <button class="add-acc-button">Add an Account</button>
        <button id="delete-acc-button">Remove an Account</button>
      </div>
    </div>
  </div>
  <div class="error-code-mention-wrapper" id="insertErrorCodes">
    <hr id="lastErrorElement" style="display: none;">
  </div>
  <div class="messages-layer" id="messages-handler">
    <hr id="lastMessageElement" style="display: none;">
  </div>
  <div class="update-layer">
    <div class="update-noti" id="update-found">
      <div style="margin-bottom: 0;">
        <h2 style="margin-bottom: 0;">AN UPDATE IS AVAILABLE</h2>
        <p style="color: grey; margin: 0;" id="update-info"></p>
        <p style="margin-top: 1rem;" id="update-desc"></p>
      </div>
      <div class="update-buttons" style="margin-bottom: 1rem;">
        <button id="download-update">Download update</button>
        <button class="text-button" id="cancel-update">Not now</button>
      </div>
    </div>
  </div>
  <div class="update-download-layer">
    <div class="download-finished-noti">
      <div>
        <span style="margin-bottom: 1rem; font-weight: bold; font-size: 1.2em;">UPDATE DOWNLOADED</span>
        <p style="color: grey;">Click to quit, install and then restart.</p>
      </div>
      <div class="progress-bar-wrapper">
        <button id="update-restart-app">Restart App</button>
        <button class="text-button" id="close-finish-noti">Not now</button>
      </div>
    </div>
  </div>
  <div class="remove-fav-promt-wrapper" style="opacity: 1">
    <div class="remove-fav-promt-window">
      <div class="deletefav-relative-div-largeview" id="backToLastPage">
        <div id="toggle"></div>
      </div>
      <h1>Do you really want to remove this Match?</h1>
      <p>A Match cannot be restored after being deleted unless you set it as a Favourite again.</p>
      <div class="match-to-delete">
        <img class="match-to-delete-agent"><br>
        <span class="match-to-delete-kda"></span><br>
        <span class="match-to-delete-result">Result: &nbsp;</span><br>
        <button class="delete-favmatch-button">Delete Match from Favourites</button>
      </div>
    </div>
  </div>
  <div class="app" id="main-collection" style="transform: scale(0.9);">
    <div class="loading-icon">
      <i class="fas fa-circle-notch fa-spin"></i>
    </div>
    <div class="loading-layer" id="loading-layer" style="display: none;">
      <div class="match-header-favMatches">
        <span>Filter:</span>
        <select id="selected-matchtype" class="selected-matchtype-favMatches" name="matchtype">
          <option value="" selected>All Matches</option>
          <option value="competitive">Competitive</option>
          <option value="unrated">Unrated</option>
          <option value="deathmatch">Deathmatch</option>
          <option value="spikerush">Spike Rush</option>
          <option value="escalation">Escalation</option>
          <option value="replication">Replication</option>
        </select>
      </div>
      <div class="fav-matchwrapper"></div>
      <hr id="lastElement" style="display: none;">
    </div>
    <div class="loading-layer-fallback" id="loading-layer" style="display: none;">
      <h2>No matches found. Set matches as favourites by clicking the star next to them in the home menu!</h2>
    </div>
  </div>

  <script>
    require('../renderer.js')
  </script>
  <script>
    window.onload = function () {
      if(sessionStorage.getItem("Update-downloaded") == true) {
        $('.update-banner').css("display", "block");
      }
      if(sessionStorage.getItem("Update-available") == true) {
        $('.download-banner').css("display", "block");
      }
    }
    // Listen for messages
    var {
      ipcRenderer
    } = require('electron');
    ipcRenderer.on('message', function (event, text) {
      console.log(text);
    })
    //Update downloaded
    ipcRenderer.on('showUpdateWindow', function (event) {
      sessionStorage.setItem("Update-downloaded", true);
      $('.download-banner').css("display", "none");
      $('.update-banner').css("display", "block");
    })
    //Update Found, about to download
    ipcRenderer.on('update-available', function (event, value) {
      sessionStorage.setItem("Update-available", true);
      $('.update-banner').css("display", "none");
      $('.download-banner').css("display", "block");
    })
    //Update downloading
    $('.download-bar').css("display", "block");
    ipcRenderer.on('download-percent', function (event, value) {
      $('.download-banner').css("display", "block");
      document.getElementById("download-bar").value = value
    })
    $('.update-relative-div').on("click", function () {
      $('.update-banner').css("display", "none");
    })
    $('#noti-close-button').on("click", function () {
      window.close()
    })
    $('.download-relative-div').on("click", function () {
      $('.download-banner').css("display", "none");
    })
  </script>

  <script type="application/javascript" src="../assets/js/favMatches/changeMatchType.js"></script>
  <script type="application/javascript" src="../assets/js/favMatches/loadPlayerMatches.js"></script>
  <script type="application/javascript" src="../assets/js/favMatches/removeFromFavs.js"></script>
  <script type="application/javascript" src="../assets/js/home/redirectToMatchview.js"></script>
  <script type="application/javascript" src="../assets/js/navslideToggle.js"></script>
  <script type="application/javascript" src="../assets/js/redirects.js"></script>
  <script type="application/javascript" src="../assets/js/errorCardHandler.js"></script>
  <script type="application/javascript" src="../assets/js/loadColorThemes.js"></script>
  <script type="application/javascript" src="../assets/js/fetchMessages.js" defer></script>
  <script type="application/javascript" src="../assets/js/accountSwitcher.js" defer></script>
  <script type="application/javascript" src="../assets/js/checkForUpdate.js" defer></script>
</body>

</html>